# Claude Instructions - LLVM Obfuscation Research

## üìã CRITICAL RULE: DOCUMENTATION POLICY

**ONLY UPDATE `OBFUSCATION_RESEARCH.md` - DO NOT CREATE NEW DOCS!**

### Documentation Structure

This project has **ONLY 2 markdown files:**

1. **`README.md`** - Quick start guide (brief, points to main doc)
2. **`OBFUSCATION_RESEARCH.md`** - **THE MASTER DOCUMENT** (comprehensive, always updated)

### When Making Changes

‚úÖ **DO:**
- Update `OBFUSCATION_RESEARCH.md` with new findings
- Keep the document current with latest results
- Add new sections to existing categories
- Update metrics in place
- Append to research journey section

‚ùå **DO NOT:**
- Create new .md files (BREAKTHROUGH_DISCOVERY.md, FINAL_SUMMARY.md, etc.)
- Write separate analysis documents
- Make quick reference cards
- Create phase-specific reports
- Generate comparison documents

### Exception

The ONLY acceptable new .md file is updating `README.md` if the quick start needs changes.

### Current Optimal Configuration

```bash
clang -flto -fvisibility=hidden -O3 -fno-builtin \
      -flto=thin -fomit-frame-pointer -mspeculative-load-hardening -O1 \
      source.c -o binary
```

**Score:** 72.6 / 100 (STRONG)
**Status:** Validated across 150,000+ combinations + external flags

### How to Update OBFUSCATION_RESEARCH.md

When new findings emerge:

1. **Read** the current `OBFUSCATION_RESEARCH.md`
2. **Edit** the relevant section (don't append, update in place)
3. **Update** the "Last Updated" date at top
4. **Update** metrics if they changed
5. **Add** to research journey if new phase completed

Example sections to update:
- `## üèÜ OPTIMAL CONFIGURATION` - If flags change
- `## üìä RESULTS ACHIEVED` - If metrics improve
- `## üéØ FLAG BREAKDOWN` - If new flags added
- `## üöÄ RESEARCH JOURNEY` - Add new phases
- `## üìà SCORE PROGRESSION` - Update timeline

### Version Control

**Last Updated:** 2025-10-04
**Current Score:** 72.6 / 100
**Current Flags:** 8 flags (flto, fvisibility=hidden, O3, fno-builtin, flto=thin, fomit-frame-pointer, mspeculative-load-hardening, O1)
**Status:** Optimal configuration found and validated

### Research Phases Completed

1. ‚úÖ Exhaustive search (150,203 combinations)
2. ‚úÖ O3-focused investigation
3. ‚úÖ Single flag test
4. ‚úÖ Progressive round 1 (3 flags locked)
5. ‚úÖ Progressive round 2 (1 flag locked)
6. ‚úÖ External flags validation (0 improvements)

### If Score Improves

Update these sections in `OBFUSCATION_RESEARCH.md`:
- Top-level optimal command
- Results table
- Score progression table
- Flag breakdown (add new flag)
- Research journey (add new phase)
- README.md TL;DR section

### Remember

**One source of truth = OBFUSCATION_RESEARCH.md**

No exceptions. No temporary docs. No quick summaries. Just update the master document.
